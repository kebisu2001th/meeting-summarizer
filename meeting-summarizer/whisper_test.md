# Whisper書き起こし品質改善設定

## 実装した改善点

### 1. モデル品質向上
- **変更前**: `small`モデル（速度重視だが精度低い）
- **変更後**: `base`モデル（品質と速度のバランス）

### 2. 推論パラメータ最適化
```python
# 日本語専用の高品質パラメータ
language='ja',
temperature=0.0,          # 確定的出力（ランダム性なし）
best_of=3,               # 3回試行して最良を選択
beam_size=5,             # ビームサーチ幅拡大
patience=2.0,            # より慎重な探索
condition_on_previous_text=False,  # 前のテキストに依存しない
no_speech_threshold=0.6, # 無音判定の閾値
logprob_threshold=-1.0   # 低確率出力の除去
```

### 3. 音声前処理強化
- **ボリューム正規化**: より保守的なレベル設定
- **無音除去**: 感度向上（top_db=20）
- **品質チェック**: 音声レベル・長さの検証
- **詳細ログ**: デバッグ情報の充実

## テスト方法

1. アプリケーションを再起動
2. 新しい録音を作成（はっきりとした音声で）
3. 書き起こし実行
4. 結果を確認

## さらなる改善案

品質がまだ不十分な場合：

### A. モデルサイズアップ
```bash
# 環境変数でlarge-v2モデルを使用
export WHISPER_MODEL_SIZE=large-v2
```

### B. 音声録音品質の改善
- マイクとの距離を近づける
- 背景ノイズを減らす
- はっきりと話す
- 録音レベルを適切に設定

### C. 追加パラメータ調整
- `temperature=0.1` で少しランダム性を追加
- `prompt`パラメータで文脈を提供
- VAD（Voice Activity Detection）の活用